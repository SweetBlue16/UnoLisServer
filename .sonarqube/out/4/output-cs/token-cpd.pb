Ñn
EC:\Users\meler\Source\Repos\UnoLisServer\UnoLisServer.Host\Program.cs
	namespace 	
UnoLisServer
 
. 
Host 
{ 
internal 
class 
Program 
{		 
static

 
void

 
Main

 
(

 
string

 
[

  
]

  !
args

" &
)

& '
{ 	
Console 
. 
Title 
= 
$str 2
;2 3
try 
{ 
ConfigInitializer !
.! "*
ApplyDatabaseConnectionFromEnv" @
(@ A
)A B
;B C
} 
catch 
( 
	Exception 
ex 
)  
{ 

WriteError 
( 
$str M
,M N
exO Q
)Q R
;R S
return 
; 
} 
ServiceHost 
[ 
] 
hosts 
=  !
{ 
new 
ServiceHost 
(  
typeof  &
(& '
LoginManager' 3
)3 4
)4 5
,5 6
new 
ServiceHost 
(  
typeof  &
(& '
RegisterManager' 6
)6 7
)7 8
,8 9
new 
ServiceHost 
(  
typeof  &
(& '
ConfirmationManager' :
): ;
); <
,< =
new 
ServiceHost 
(  
typeof  &
(& '
ProfileEditManager' 9
)9 :
): ;
,; <
new   
ServiceHost   
(    
typeof    &
(  & '
ProfileViewManager  ' 9
)  9 :
)  : ;
,  ; <
new!! 
ServiceHost!! 
(!!  
typeof!!  &
(!!& '
FriendsManager!!' 5
)!!5 6
)!!6 7
,!!7 8
new"" 
ServiceHost"" 
(""  
typeof""  &
(""& '
PartyHostManager""' 7
)""7 8
)""8 9
,""9 :
new## 
ServiceHost## 
(##  
typeof##  &
(##& '
PartyClientManager##' 9
)##9 :
)##: ;
,##; <
new$$ 
ServiceHost$$ 
($$  
typeof$$  &
($$& '
GameplayManager$$' 6
)$$6 7
)$$7 8
,$$8 9
new%% 
ServiceHost%% 
(%%  
typeof%%  &
(%%& ' 
NotificationsManager%%' ;
)%%; <
)%%< =
,%%= >
new&& 
ServiceHost&& 
(&&  
typeof&&  &
(&&& '
ChatManager&&' 2
)&&2 3
)&&3 4
,&&4 5
new'' 
ServiceHost'' 
(''  
typeof''  &
(''& '
LeaderboardsManager''' :
)'': ;
)''; <
,''< =
new(( 
ServiceHost(( 
(((  
typeof((  &
(((& '
ShopManager((' 2
)((2 3
)((3 4
,((4 5
new)) 
ServiceHost)) 
())  
typeof))  &
())& '
LogoutManager))' 4
)))4 5
)))5 6
}** 
;** 
Console,, 
.,, 
	WriteLine,, 
(,, 
),, 
;,,  
Console-- 
.-- 
ForegroundColor-- #
=--$ %
ConsoleColor--& 2
.--2 3
Cyan--3 7
;--7 8
Console.. 
... 
	WriteLine.. 
(.. 
$str.. A
)..A B
;..B C
Console// 
.// 

ResetColor// 
(// 
)//  
;//  !
foreach22 
(22 
var22 
host22 
in22  
hosts22! &
)22& '
{33 
try44 
{55 
host66 
.66 
Open66 
(66 
)66 
;66  
Console77 
.77 
ForegroundColor77 +
=77, -
ConsoleColor77. :
.77: ;
Green77; @
;77@ A
Console88 
.88 
	WriteLine88 %
(88% &
$"88& (
$str88( +
{88+ ,
host88, 0
.880 1
Description881 <
.88< =
ServiceType88= H
.88H I
Name88I M
}88M N
$str88N V
"88V W
)88W X
;88X Y
}99 
catch:: 
(:: (
AddressAlreadyInUseException:: 3
ex::4 6
)::6 7
{;; 

WriteError<< 
(<< 
$"<< !
$str<<! 8
{<<8 9
host<<9 =
.<<= >
Description<<> I
.<<I J
ServiceType<<J U
.<<U V
Name<<V Z
}<<Z [
$str<<[ k
"<<k l
,<<l m
ex<<n p
)<<p q
;<<q r
	AbortHost== 
(== 
host== "
)==" #
;==# $
}>> 
catch?? 
(?? (
AddressAccessDeniedException?? 3
ex??4 6
)??6 7
{@@ 

WriteErrorAA 
(AA 
$"AA !
$strAA! >
{AA> ?
hostAA? C
.AAC D
DescriptionAAD O
.AAO P
ServiceTypeAAP [
.AA[ \
NameAA\ `
}AA` a
$strAAa ~
"AA~ 
,	AA Ä
ex
AAÅ É
)
AAÉ Ñ
;
AAÑ Ö
	AbortHostBB 
(BB 
hostBB "
)BB" #
;BB# $
}CC 
catchDD 
(DD (
ConfigurationErrorsExceptionDD 3
exDD4 6
)DD6 7
{EE 

WriteErrorFF 
(FF 
$"FF !
$strFF! ;
{FF; <
hostFF< @
.FF@ A
DescriptionFFA L
.FFL M
ServiceTypeFFM X
.FFX Y
NameFFY ]
}FF] ^
$strFF^ _
"FF_ `
,FF` a
exFFb d
)FFd e
;FFe f
	AbortHostGG 
(GG 
hostGG "
)GG" #
;GG# $
}HH 
catchII 
(II %
InvalidOperationExceptionII 0
exII1 3
)II3 4
{JJ 

WriteErrorKK 
(KK 
$"KK !
$strKK! N
{KKN O
hostKKO S
.KKS T
DescriptionKKT _
.KK_ `
ServiceTypeKK` k
.KKk l
NameKKl p
}KKp q
$strKKq r
"KKr s
,KKs t
exKKu w
)KKw x
;KKx y
	AbortHostLL 
(LL 
hostLL "
)LL" #
;LL# $
}MM 
catchNN 
(NN "
CommunicationExceptionNN -
exNN. 0
)NN0 1
{OO 

WriteErrorPP 
(PP 
$"PP !
$strPP! B
{PPB C
hostPPC G
.PPG H
DescriptionPPH S
.PPS T
ServiceTypePPT _
.PP_ `
NamePP` d
}PPd e
$strPPe f
"PPf g
,PPg h
exPPi k
)PPk l
;PPl m
	AbortHostQQ 
(QQ 
hostQQ "
)QQ" #
;QQ# $
}RR 
catchSS 
(SS 
TimeoutExceptionSS '
exSS( *
)SS* +
{TT 

WriteErrorUU 
(UU 
$"UU !
$strUU! F
{UUF G
hostUUG K
.UUK L
DescriptionUUL W
.UUW X
ServiceTypeUUX c
.UUc d
NameUUd h
}UUh i
$strUUi j
"UUj k
,UUk l
exUUm o
)UUo p
;UUp q
	AbortHostVV 
(VV 
hostVV "
)VV" #
;VV# $
}WW 
catchXX 
(XX 
SystemXX 
.XX 
DataXX "
.XX" #
	SqlClientXX# ,
.XX, -
SqlExceptionXX- 9
exXX: <
)XX< =
{YY 

WriteErrorZZ 
(ZZ 
$"ZZ !
$strZZ! C
{ZZC D
hostZZD H
.ZZH I
DescriptionZZI T
.ZZT U
ServiceTypeZZU `
.ZZ` a
NameZZa e
}ZZe f
$strZZf g
"ZZg h
,ZZh i
exZZj l
)ZZl m
;ZZm n
	AbortHost[[ 
([[ 
host[[ "
)[[" #
;[[# $
}\\ 
catch]] 
(]] 
	Exception]]  
ex]]! #
)]]# $
{^^ 

WriteError__ 
(__ 
$"__ !
$str__! 5
{__5 6
host__6 :
.__: ;
Description__; F
.__F G
ServiceType__G R
.__R S
Name__S W
}__W X
$str__X Y
"__Y Z
,__Z [
ex__\ ^
)__^ _
;___ `
	AbortHost`` 
(`` 
host`` "
)``" #
;``# $
}aa 
finallybb 
{cc 
Consoledd 
.dd 

ResetColordd &
(dd& '
)dd' (
;dd( )
}ee 
}ff 
Consolehh 
.hh 
	WriteLinehh 
(hh 
)hh 
;hh  
Consoleii 
.ii 
ForegroundColorii #
=ii$ %
ConsoleColorii& 2
.ii2 3
Cyanii3 7
;ii7 8
Consolejj 
.jj 
	WriteLinejj 
(jj 
$strjj A
)jjA B
;jjB C
Consolekk 
.kk 
	WriteLinekk 
(kk 
$strkk >
)kk> ?
;kk? @
Consolell 
.ll 
	WriteLinell 
(ll 
$strll A
)llA B
;llB C
Consolemm 
.mm 

ResetColormm 
(mm 
)mm  
;mm  !
Consolenn 
.nn 
	WriteLinenn 
(nn 
$strnn @
)nn@ A
;nnA B
Consoleoo 
.oo 
ReadLineoo 
(oo 
)oo 
;oo 
foreachrr 
(rr 
varrr 
hostrr 
inrr  
hostsrr! &
)rr& '
{ss 
trytt 
{uu 
ifvv 
(vv 
hostvv 
.vv 
Statevv "
==vv# %
CommunicationStatevv& 8
.vv8 9
Openedvv9 ?
)vv? @
hostww 
.ww 
Closeww "
(ww" #
)ww# $
;ww$ %
}xx 
catchyy 
{zz 
host{{ 
.{{ 
Abort{{ 
({{ 
){{  
;{{  !
}|| 
}}} 
Console 
. 
ForegroundColor #
=$ %
ConsoleColor& 2
.2 3
Yellow3 9
;9 :
Console
ÄÄ 
.
ÄÄ 
	WriteLine
ÄÄ 
(
ÄÄ 
$str
ÄÄ E
)
ÄÄE F
;
ÄÄF G
Console
ÅÅ 
.
ÅÅ 

ResetColor
ÅÅ 
(
ÅÅ 
)
ÅÅ  
;
ÅÅ  !
}
ÇÇ 	
private
ÖÖ 
static
ÖÖ 
void
ÖÖ 

WriteError
ÖÖ &
(
ÖÖ& '
string
ÖÖ' -
context
ÖÖ. 5
,
ÖÖ5 6
	Exception
ÖÖ7 @
ex
ÖÖA C
)
ÖÖC D
{
ÜÜ 	
Console
áá 
.
áá 
ForegroundColor
áá #
=
áá$ %
ConsoleColor
áá& 2
.
áá2 3
Red
áá3 6
;
áá6 7
Console
àà 
.
àà 
	WriteLine
àà 
(
àà 
$"
àà  
$str
àà  "
{
àà" #
context
àà# *
}
àà* +
"
àà+ ,
)
àà, -
;
àà- .
Console
ââ 
.
ââ 

ResetColor
ââ 
(
ââ 
)
ââ  
;
ââ  !
Console
ää 
.
ää 
ForegroundColor
ää #
=
ää$ %
ConsoleColor
ää& 2
.
ää2 3
DarkGray
ää3 ;
;
ää; <
Console
ãã 
.
ãã 
	WriteLine
ãã 
(
ãã 
$"
ãã  
$str
ãã  %
{
ãã% &
ex
ãã& (
.
ãã( )
GetType
ãã) 0
(
ãã0 1
)
ãã1 2
.
ãã2 3
Name
ãã3 7
}
ãã7 8
$str
ãã8 :
{
ãã: ;
ex
ãã; =
.
ãã= >
Message
ãã> E
}
ããE F
$str
ããF H
"
ããH I
)
ããI J
;
ããJ K
Console
åå 
.
åå 

ResetColor
åå 
(
åå 
)
åå  
;
åå  !
}
çç 	
private
êê 
static
êê 
void
êê 
	AbortHost
êê %
(
êê% &
ServiceHost
êê& 1
host
êê2 6
)
êê6 7
{
ëë 	
if
íí 
(
íí 
host
íí 
.
íí 
State
íí 
==
íí  
CommunicationState
íí 0
.
íí0 1
Faulted
íí1 8
)
íí8 9
{
ìì 
host
îî 
.
îî 
Abort
îî 
(
îî 
)
îî 
;
îî 
Console
ïï 
.
ïï 
ForegroundColor
ïï '
=
ïï( )
ConsoleColor
ïï* 6
.
ïï6 7
DarkRed
ïï7 >
;
ïï> ?
Console
ññ 
.
ññ 
	WriteLine
ññ !
(
ññ! "
$"
ññ" $
$str
ññ$ *
{
ññ* +
host
ññ+ /
.
ññ/ 0
Description
ññ0 ;
.
ññ; <
ServiceType
ññ< G
.
ññG H
Name
ññH L
}
ññL M
$str
ññM a
"
ñña b
)
ññb c
;
ññc d
Console
óó 
.
óó 

ResetColor
óó "
(
óó" #
)
óó# $
;
óó$ %
}
òò 
}
ôô 	
}
öö 
}õõ ÷!
OC:\Users\meler\Source\Repos\UnoLisServer\UnoLisServer.Host\ConfigInitializer.cs
	namespace 	
UnoLisServer
 
. 
Host 
{ 
internal 
static 
class 
ConfigInitializer +
{		 
public 
static 
void *
ApplyDatabaseConnectionFromEnv 9
(9 :
): ;
{ 	
string 
server 
= 
Environment '
.' ("
GetEnvironmentVariable( >
(> ?
$str? N
)N O
??P R
$strS ^
;^ _
string 
user 
= 
Environment %
.% &"
GetEnvironmentVariable& <
(< =
$str= J
)J K
??L N
$strO X
;X Y
string 
password 
= 
Environment )
.) *"
GetEnvironmentVariable* @
(@ A
$strA R
)R S
??T V
$strW a
;a b
var 

sqlBuilder 
= 
new  &
SqlConnectionStringBuilder! ;
{ 

DataSource 
= 
server #
,# $
InitialCatalog 
=  
$str! .
,. /
UserID 
= 
user 
, 
Password 
= 
password #
,# $$
MultipleActiveResultSets (
=) *
true+ /
,/ 0"
TrustServerCertificate &
=' (
true) -
} 
; 
var 
entityBuilder 
= 
new  #)
EntityConnectionStringBuilder$ A
{ 
Provider   
=   
$str   2
,  2 3$
ProviderConnectionString!! (
=!!) *

sqlBuilder!!+ 5
.!!5 6
ToString!!6 >
(!!> ?
)!!? @
,!!@ A
Metadata"" 
="" 
$str"" u
}## 
;## 
var%% 
config%% 
=%%  
ConfigurationManager%% -
.%%- . 
OpenExeConfiguration%%. B
(%%B C"
ConfigurationUserLevel%%C Y
.%%Y Z
None%%Z ^
)%%^ _
;%%_ `
if'' 
('' 
config'' 
.'' 
ConnectionStrings'' (
.''( )
ConnectionStrings'') :
['': ;
$str''; G
]''G H
!=''I K
null''L P
)''P Q
{(( 
config)) 
.)) 
ConnectionStrings)) (
.))( )
ConnectionStrings))) :
[)): ;
$str)); G
]))G H
.))H I
ConnectionString))I Y
=))Z [
entityBuilder))\ i
.))i j
ToString))j r
())r s
)))s t
;))t u
}** 
else++ 
{,, 
config-- 
.-- 
ConnectionStrings-- (
.--( )
ConnectionStrings--) :
.--: ;
Add--; >
(--> ?
new.. $
ConnectionStringSettings.. 0
(..0 1
$str..1 =
,..= >
entityBuilder..? L
...L M
ToString..M U
(..U V
)..V W
,..W X
$str..Y s
)..s t
)..t u
;..u v
}// 
config11 
.11 
Save11 
(11 !
ConfigurationSaveMode11 -
.11- .
Modified11. 6
)116 7
;117 8 
ConfigurationManager22  
.22  !
RefreshSection22! /
(22/ 0
$str220 C
)22C D
;22D E
Console44 
.44 
ForegroundColor44 #
=44$ %
ConsoleColor44& 2
.442 3
Cyan443 7
;447 8
Console55 
.55 
	WriteLine55 
(55 
$"55  
$str55  F
{55F G
server55G M
}55M N
"55N O
)55O P
;55P Q
Console66 
.66 

ResetColor66 
(66 
)66  
;66  !
}77 	
}88 
}99 Ä
UC:\Users\meler\Source\Repos\UnoLisServer\UnoLisServer.Host\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str ,
), -
]- .
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str .
). /
]/ 0
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 2
)2 3
]3 4
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[   
assembly   	
:  	 

AssemblyVersion   
(   
$str   $
)  $ %
]  % &
[!! 
assembly!! 	
:!!	 

AssemblyFileVersion!! 
(!! 
$str!! (
)!!( )
]!!) *